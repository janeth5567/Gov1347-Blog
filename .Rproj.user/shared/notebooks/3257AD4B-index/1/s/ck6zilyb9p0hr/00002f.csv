"0","require(sf)"
"0",""
"0","# load geographic data"
"0","get_congress_map <- function(cong=114) {"
"0","tmp_file <- tempfile()"
"0","tmp_dir <- tempdir()"
"0","zp <- sprintf(""https://cdmaps.polisci.ucla.edu/shp/districts114.zip"",cong)"
"0","download.file(zp, tmp_file)"
"0","unzip(zipfile = tmp_file, exdir = tmp_dir)"
"0","fpath <- paste(tmp_dir, sprintf(""districtShapes/districts114.shp"",cong), sep = ""/"")"
"0","st_read(fpath)"
"0","}"
"0",""
"0","# load 114th congress"
"0",""
"0","cd114 <- get_congress_map(114)"
"2","Warning: one argument not used by format 'https://cdmaps.polisci.ucla.edu/shp/districts114.zip'"
"2","trying URL 'https://cdmaps.polisci.ucla.edu/shp/districts114.zip'
"
"2","Content type 'application/zip'"
"2"," length 61656606 bytes (58.8 MB)
"
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","
"
"2","downloaded 58.8 MB

"
"2","Warning: one argument not used by format 'districtShapes/districts114.shp'"
"1","Reading layer `"
"1","districts114"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","/private/var/folders/mv/pwxqfd411cz090w_kkkl3mn00000gn/T/RtmpuWTeAr/districtShapes/districts114.shp"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","ESRI Shapefile"
"1","'"
"1","
"
"1","Simple feature collection with 436 features and 15 fields"
"1"," (with 1 geometry empty)"
"1","
"
"1","Geometry type: MULTIPOLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -179.1473 ymin: 18.91383 xmax: 179.7785 ymax: 71.35256"
"1","
"
"1","Geodetic CRS:  NAD83
"
"0","cd114$DISTRICT <- as.numeric(cd114$DISTRICT)"
"0",""
"0","cd114 <- cd114 %>% left_join(house_party_vote_share_by_district, by= c(""STATENAME""= ""State"", ""DISTRICT"" = ""district_num""))"
"0",""
"0",""
"0","#cd114 <- cd114 %>% inner_join(local_model_data, by= c(""STATENAME""= ""State"", ""DISTRICT"" = ""district_num""))"
"0",""
"0","districts_simp <- rmapshaper::ms_simplify(cd114, keep = 0.01)"
